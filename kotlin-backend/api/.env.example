# VaultStadio API Configuration
# Copy this file to .env and adjust values as needed

# =============================================================================
# Server Configuration
# =============================================================================
SERVER_HOST=0.0.0.0
SERVER_PORT=8080
DEVELOPMENT_MODE=true
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173

# =============================================================================
# Database Configuration
# =============================================================================
DATABASE_URL=jdbc:postgresql://localhost:5432/vaultstadio
DATABASE_USER=vaultstadio
DATABASE_PASSWORD=vaultstadio
DATABASE_DRIVER=org.postgresql.Driver
DATABASE_MAX_POOL_SIZE=10
DATABASE_MIN_IDLE=2
DATABASE_IDLE_TIMEOUT=600000
DATABASE_CONNECTION_TIMEOUT=30000
DATABASE_MAX_LIFETIME=1800000
DATABASE_RUN_MIGRATIONS=true

# =============================================================================
# Storage Configuration
# =============================================================================
# Storage type: LOCAL, S3, or MINIO
STORAGE_TYPE=LOCAL
STORAGE_LOCAL_PATH=/data/storage
STORAGE_TEMP_PATH=/data/temp
# Maximum file size in bytes (default: 10GB)
STORAGE_MAX_FILE_SIZE=10737418240
# Comma-separated list of allowed MIME types (* for all)
STORAGE_ALLOWED_MIME_TYPES=*

# S3/MinIO Configuration (only used when STORAGE_TYPE=S3 or MINIO)
S3_ENDPOINT=http://localhost:9000
S3_REGION=us-east-1
S3_BUCKET=vaultstadio
S3_ACCESS_KEY=minioadmin
S3_SECRET_KEY=minioadmin
S3_USE_PATH_STYLE=true

# =============================================================================
# Security Configuration
# =============================================================================
# REQUIRED: JWT secret key (minimum 32 characters)
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_ISSUER=vaultstadio
JWT_AUDIENCE=vaultstadio-api

# Session duration in hours
SESSION_DURATION_HOURS=24
# Refresh token duration in days
REFRESH_TOKEN_DURATION_DAYS=30

# BCrypt password hashing rounds (10-14 recommended)
BCRYPT_ROUNDS=12

# Rate limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW_SECONDS=60

# =============================================================================
# Plugins Configuration
# =============================================================================
PLUGINS_DIRECTORY=/data/plugins
PLUGINS_AUTO_LOAD=true
# Comma-separated list of enabled plugins (empty for all)
PLUGINS_ENABLED=

# =============================================================================
# Logging Configuration
# =============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=json

# =============================================================================
# Optional: External Services
# =============================================================================
# Ollama (for AI classification plugin)
OLLAMA_URL=http://localhost:11434
OLLAMA_MODEL=llava

# OpenAI (for AI classification plugin)
# OPENAI_API_KEY=sk-your-api-key-here
